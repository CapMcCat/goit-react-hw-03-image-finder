{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","services/picture-api.js","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/ImagesInfo/ImagesInfo.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputChange","e","currentTarget","name","value","setState","clearState","handleSubmit","preventDefault","toast","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","API","fetchPictures","pageNumber","KEY","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeydown","keyCode","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","url","createPortal","Overlay","onClick","src","alt","ImageGalleryItem","showModal","toggleModal","onGalleryItemClick","dataset","images","map","image","id","largeImageURL","webformatURL","ImageGalleryItemImage","ImageGallery","Button","Spinner","color","height","width","Status","ImagesInfo","error","status","page","handleClick","prevState","prevProps","prevValue","nextValue","currentPage","prevPage","hits","length","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","console","log","message","App","searchValue","handleFormSubmit","injectStyle","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,+MCGrBC,E,4MACJC,MAAQ,CACNC,WAAY,I,EAGdC,kBAAoB,SAACC,GACnB,MAAwBA,EAAEC,cAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEd,EAAKC,SAAL,eACGF,EAAOC,K,EAIZE,WAAa,WACX,OAAO,EAAKD,SAAS,CACnBN,WAAY,M,EAIhBQ,aAAe,SAACN,GACdA,EAAEO,iBACF,IAAQT,EAAe,EAAKD,MAApBC,WAER,GAAmB,KAAfA,EACF,OAAOU,YAAM,uGAGf,EAAKC,MAAMC,SAASZ,GACpB,EAAKO,c,4CAGP,WACE,OACE,wBAAQM,UAAWC,IAAEhB,UAArB,SACE,uBAAMe,UAAWC,IAAEC,WAAYH,SAAUI,KAAKR,aAA9C,UACE,wBAAQS,KAAK,SAASJ,UAAWC,IAAEI,iBAAnC,SACE,sBAAML,UAAWC,IAAEK,sBAAnB,sBAGF,uBACEN,UAAWC,IAAEM,gBACbhB,KAAK,aACLa,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUR,KAAKf,kBACfI,MAAOW,KAAKjB,MAAMC,sB,GA/CNyB,aAuDT3B,I,cC7Cf,IAAM4B,EAAM,CACVC,cAfF,SAAuB3B,EAAY4B,EAAYC,GAC7C,OAAOC,MAAM,8BAAD,OACoB9B,EADpB,iBACuC4B,EADvC,gBACyDC,EADzD,yDAEVE,MAAK,SAACC,GACN,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,OACb,IAAIC,MAAJ,8UAA6ErC,UASpE0B,I,mDCdTY,EAAYC,SAASC,cAAc,eAEnCC,E,4MASJC,cAAgB,SAACxC,GACf,GAAkB,KAAdA,EAAEyC,QACJ,OAAO,EAAKhC,MAAMiC,W,EAItBC,oBAAsB,SAAC3C,GAGrB,GAFkCA,EAA1B4C,SAA0B5C,EAAlBC,cAGd,OAAO,EAAKQ,MAAMiC,W,uDAlBtB,WACEG,OAAOC,iBAAiB,UAAWhC,KAAK0B,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWjC,KAAK0B,iB,oBAiB7C,WACE,IAAQQ,EAAQlC,KAAKL,MAAbuC,IAER,OAAOC,uBACL,qBAAKtC,UAAWC,IAAEsC,QAASC,QAASrC,KAAK6B,oBAAzC,SACE,qBAAKhC,UAAWC,IAAE2B,MAAlB,SACE,qBAAKa,IAAKJ,EAAKK,IAAI,SAGvBjB,O,GAhCcb,aAqCLgB,ICvCTe,E,4MACJzD,MAAQ,CACN0D,WAAW,EACXP,IAAK,M,EAGPQ,YAAc,WACZ,EAAKpD,UAAS,kBAAoB,CAChCmD,WADY,EAAGA,e,EAKnBE,mBAAqB,SAACzD,GACpB,EAAKI,SAAS,CAAE4C,IAAKhD,EAAEC,cAAcyD,QAAQV,MAE7C,EAAKQ,e,4CAGP,WAAU,IAAD,OACP,EAA2B1C,KAAKjB,MAAxB0D,EAAR,EAAQA,UAAWP,EAAnB,EAAmBA,IACXW,EAAW7C,KAAKL,MAAhBkD,OAER,OACE,qCACGA,EAAOC,KAAI,SAACC,GAAD,OACV,oBACElD,UAAWC,IAAE0C,iBAEbH,QAAS,EAAKM,mBACdK,GAAID,EAAMC,GACV,WAAUD,EAAME,cALlB,SAME,qBAAKX,IAAKS,EAAMG,aAAcX,IAAKQ,EAAMC,GAAInD,UAAWC,IAAEqD,yBAJrDJ,EAAMC,OAOdP,GAAa,cAAC,EAAD,CAAOb,QAAS5B,KAAK0C,YAAaR,IAAKA,W,GAlC9BzB,aAwChB+B,IC9BAY,EAVM,SAAC,GAAgB,IAAdP,EAAa,EAAbA,OACtB,OACE,mCACE,oBAAIhD,UAAWC,IAAEsD,aAAjB,SACE,cAAC,EAAD,CAAkBP,OAAQA,S,iBCL5BQ,E,4JACJ,WACE,OACE,wBAAQxD,UAAWC,IAAEuD,OAAQhB,QAASrC,KAAKL,MAAM0C,QAASpC,KAAK,SAA/D,2B,GAHeQ,aASN4C,I,iBCRMC,G,kKACnB,WACE,OAAO,cAAC,IAAD,CAAQrD,KAAK,UAAUsD,MAAM,UAAUC,OAAQ,GAAIC,MAAO,S,GAFhChD,cCI/BiD,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGN7C,EAAM,qCAES8C,E,4MACnB5E,MAAQ,CACNC,WAAY,KACZ4E,MAAO,KACPC,OAAQH,EACRI,KAAM,EACNjB,OAAQ,I,EA2CVkB,YAAc,WACZ,EAAKzE,UAAS,SAAC0E,GAAD,MAAgB,CAC5BF,KAAME,EAAUF,KAAO,O,wDA1C3B,SAAmBG,EAAWD,GAAY,IAAD,OACjCE,EAAYD,EAAUjF,WACtBmF,EAAYnE,KAAKL,MAAMX,WACvBoF,EAAcpE,KAAKjB,MAAM+E,KACzBO,EAAWL,EAAUF,KAEvBI,IAAcC,IAChBnE,KAAKV,SAAS,CAAEuE,OAAQH,EAAgBI,KAAM,IAE9CpD,EAAIC,cAAcwD,EAAWC,EAAavD,GACvCE,MAAK,SAAC8B,GACsB,IAAvBA,EAAOyB,KAAKC,QACd7E,IAAMkE,MAAN,2KAA8CO,IAEhD,EAAK7E,SAAS,CAAEuD,OAAQA,EAAOyB,KAAMT,OAAQH,OAE9Cc,OAAM,SAACZ,GAAD,OAAW,EAAKtE,SAAS,CAAEsE,QAAOC,OAAQH,QAGjDW,IAAaD,GACf1D,EAAIC,cAAcwD,EAAWC,EAAavD,GACvCE,MAAK,SAAC8B,GACsB,IAAvBA,EAAOyB,KAAKC,QACd7E,YAAM,+KAAD,OAAoCyE,IAE3C,EAAK7E,SAAS,CACZuD,OAAO,GAAD,mBAAM,EAAK9D,MAAM8D,QAAjB,YAA4BA,EAAOyB,OACzCT,OAAQH,OAGXc,OAAM,SAACZ,GAAD,OAAW,EAAKtE,SAAS,CAAEsE,QAAOC,OAAQH,OAChDe,SAAQ,WACP1C,OAAO2C,SAAS,CACdC,IAAKpD,SAASqD,gBAAgBC,aAC9BC,SAAU,gB,oBAYpB,WACE,MAAkC9E,KAAKjB,MAA/B6E,EAAR,EAAQA,MAAOC,EAAf,EAAeA,OAAQhB,EAAvB,EAAuBA,OAIvB,OAFAkC,QAAQC,IAAInC,GAEG,SAAXgB,EACK,mHAGM,YAAXA,EACK,cAAC,EAAD,IAGM,aAAXA,EACK,8BAAMD,EAAMqB,UAGN,aAAXpB,EAEA,qCACE,cAAC,EAAD,CAAchB,OAAQA,IACrBA,EAAO0B,OAAS,GAAK,cAAC,EAAD,CAAQlC,QAASrC,KAAK+D,sBAJlD,M,GAxEoCtD,aCVlCyE,E,4MACJnG,MAAQ,CACNoG,YAAa,I,EAGfC,iBAAmB,SAACpG,GAClB,OAAO,EAAKM,SAAS,CAAE6F,YAAanG,K,4CAGtC,WAGE,OAFAqG,wBAGE,sBAAKxF,UAAU,MAAf,UACE,cAAC,EAAD,CAAWD,SAAUI,KAAKoF,mBAC1B,cAAC,EAAD,CAAYpG,WAAYgB,KAAKjB,MAAMoG,cACnC,cAAC,IAAD,CAAgBG,UAAW,a,GAhBjB7E,aAsBHyE,ICxBfK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlE,SAASmE,eAAe,U,kBCR1B9G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.9dd2520b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInputChange = (e) => {\n    const { name, value } = e.currentTarget;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  clearState = () => {\n    return this.setState({\n      inputValue: '',\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { inputValue } = this.state;\n\n    if (inputValue === '') {\n      return toast('Введите Ваш запрос!');\n    }\n\n    this.props.onSubmit(inputValue);\n    this.clearState();\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type='submit' className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            name='inputValue'\n            type='text'\n            autoComplete='off'\n            autoFocus\n            placeholder='Search images and photos'\n            onChange={this.handleInputChange}\n            value={this.state.inputValue}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","function fetchPictures(inputValue, pageNumber, KEY) {\n  return fetch(\n    `https://pixabay.com/api/?q=${inputValue}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(\n      new Error(`Что-то пошло не так. Не возможно отобразить картинки по запросу ${inputValue}`)\n    );\n  });\n}\n\nconst API = {\n  fetchPictures,\n};\n\nexport default API;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = (e) => {\n    if (e.keyCode === 27) {\n      return this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    const { target, currentTarget } = e;\n\n    if (target === currentTarget) {\n      return this.props.onClose();\n    }\n  };\n\n  render() {\n    const { url } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={url} alt='' />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from '../Modal/Modal';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n    url: null,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onGalleryItemClick = (e) => {\n    this.setState({ url: e.currentTarget.dataset.url });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { showModal, url } = this.state;\n    const { images } = this.props;\n\n    return (\n      <>\n        {images.map((image) => (\n          <li\n            className={s.ImageGalleryItem}\n            key={image.id}\n            onClick={this.onGalleryItemClick}\n            id={image.id}\n            data-url={image.largeImageURL}>\n            <img src={image.webformatURL} alt={image.id} className={s.ImageGalleryItemImage} />\n          </li>\n        ))}\n        {showModal && <Modal onClose={this.toggleModal} url={url} />}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        <ImageGalleryItem images={images} />\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  render() {\n    return (\n      <button className={s.Button} onClick={this.props.onClick} type='button'>\n        Load more\n      </button>\n    );\n  }\n}\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class Spinner extends Component {\n  render() {\n    return <Loader type='Circles' color='#00BFFF' height={80} width={80} />;\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport API from '../../services/picture-api';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Spinner from '../Loader/Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst KEY = '23664732-922ae8a04b91fba4e55f74778';\n\nexport default class ImagesInfo extends Component {\n  state = {\n    inputValue: null,\n    error: null,\n    status: Status.IDLE,\n    page: 1,\n    images: [],\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevValue = prevProps.inputValue;\n    const nextValue = this.props.inputValue;\n    const currentPage = this.state.page;\n    const prevPage = prevState.page;\n\n    if (prevValue !== nextValue) {\n      this.setState({ status: Status.PENDING, page: 1 });\n\n      API.fetchPictures(nextValue, currentPage, KEY)\n        .then((images) => {\n          if (images.hits.length === 0) {\n            toast.error(`Не находим картинок по запросу ${nextValue}`);\n          }\n          this.setState({ images: images.hits, status: Status.RESOLVED });\n        })\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    if (prevPage !== currentPage) {\n      API.fetchPictures(nextValue, currentPage, KEY)\n        .then((images) => {\n          if (images.hits.length === 0) {\n            toast(`Закончились картинки по запросу ${nextValue}`);\n          }\n          this.setState({\n            images: [...this.state.images, ...images.hits],\n            status: Status.RESOLVED,\n          });\n        })\n        .catch((error) => this.setState({ error, status: Status.REJECTED }))\n        .finally(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  handleClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { error, status, images } = this.state;\n\n    console.log(images);\n\n    if (status === 'idle') {\n      return <div>Введите запрос.</div>;\n    }\n\n    if (status === 'pending') {\n      return <Spinner />;\n    }\n\n    if (status === 'rejected') {\n      return <div>{error.message}</div>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ImageGallery images={images} />\n          {images.length > 0 && <Button onClick={this.handleClick} />}\n        </>\n      );\n    }\n  }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar.jsx';\nimport ImagesInfo from './components/ImagesInfo/ImagesInfo';\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleFormSubmit = (inputValue) => {\n    return this.setState({ searchValue: inputValue });\n  };\n\n  render() {\n    injectStyle();\n\n    return (\n      <div className='App'>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImagesInfo inputValue={this.state.searchValue} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}